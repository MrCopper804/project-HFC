<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HFC - Global Rankings</title>
    <style>
        :root { --bg: #000; --neon: #64ffda; }
        body { background: var(--bg); color: white; font-family: sans-serif; padding: 20px; text-align: center; }
        .list { max-width: 400px; margin: 20px auto; background: rgba(255,255,255,0.03); border-radius: 20px; padding: 10px; border: 1px solid #222; }
        .row { display: flex; justify-content: space-between; padding: 15px; border-bottom: 1px solid #111; align-items: center; }
        .row:last-child { border: none; }
        .rank { color: var(--neon); font-weight: bold; margin-right: 10px; }
        .name { flex: 1; text-align: left; font-size: 14px; }
        .pts { font-weight: bold; background: var(--neon); color: #000; padding: 2px 8px; border-radius: 5px; font-size: 12px; }
        .back-link { display: block; margin-top: 30px; color: #555; text-decoration: none; font-size: 13px; }
    </style>
</head>
<body>
    <h2 style="letter-spacing: 5px; color: var(--neon);">TOP AGENTS</h2>
    <div class="list" id="leaderList">Fetching Intel...</div>
    <a href="lobby.html" class="back-link">‚Üê BACK TO LOBBY</a>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, query, orderBy, limit, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = { /* Aapka Config Code */ };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        async function load() {
            const q = query(collection(db, "users"), orderBy("score", "desc"), limit(10));
            const snap = await getDocs(q);
            const list = document.getElementById('leaderList');
            list.innerHTML = "";
            let i = 1;
            snap.forEach(doc => {
                const data = doc.data();
                list.innerHTML += `<div class="row">
                    <span class="rank">#${i}</span>
                    <span class="name">${data.email.split('@')[0]}</span>
                    <span class="pts">${data.score} XP</span>
                </div>`;
                i++;
            });
        }
        load();
    </script>
</body>
</html>
